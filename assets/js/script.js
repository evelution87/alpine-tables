(()=>{"use strict";var t,e={698:()=>{var t=function(t){let e=()=>{let e,s=localStorage;return t.interceptor(((r,i,n,o,a)=>{let l=e||`_x_${o}`,u=function(t,e){return null!==e.getItem(t)}(l,s)?function(t,e){return JSON.parse(e.getItem(t,e))}(l,s):r;return n(u),t.effect((()=>{let t=i();!function(t,e,s){s.setItem(t,JSON.stringify(e))}(l,t,s),n(t)})),u}),(t=>{t.as=s=>(e=s,t),t.using=e=>(s=e,t)}))};Object.defineProperty(t,"$persist",{get:()=>e()}),t.magic("persist",e)};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{page:this.$persist(1).as((t.key||"alpinetable")+"_page"),filters:this.$persist({per_page:3,sort_by:null,sort_asc:!0,search:"",filters:{}}).as((t.key||"alpinetable")+"_filters"),route:t.route,columns:[],items:[],results:0,total_results:0,max_pages:0,from:1,to:1,loading:!1,show_search:!1,show_filters:!1,init:function(){var t=this;this.loadItems(!0),this.$watch("page",(function(){return t.loadItems()})),this.$watch("filters",(function(){return t.resetPage()})),this.filters.search.length&&(this.show_search=!0)},pageUp:function(){this.page=Math.min(this.max_pages,Number(this.page)+1)},pageDown:function(){this.page=Math.max(1,Number(this.page)-1)},resetPage:function(){1===this.page?this.loadItems():this.page=1},getColumns:function(){var t=this;window.axios.post(this.route,{get:"columns"}).then((function(e){t.columns=e.data,t.loadItems()})).catch((function(t){})).finally((function(){}))},loadItems:function(t){var e=this;this.loading=!0;var s={alpine:this.filters};s.alpine.page=this.page,t&&(s.get="columns"),window.axios.post(this.route,s).then((function(t){t.data.columns&&(e.columns=t.data.columns),e.results=t.data.count,e.total_results=t.data.total_count,e.from=(e.page-1)*e.filters.per_page+1,e.to=Math.min(e.results,e.page*e.filters.per_page),e.max_pages=Math.ceil(e.results/e.filters.per_page),e.items=t.data.items})).catch((function(t){})).finally((function(){e.loading=!1}))},pageString:function(){if(null===this.items)return"";if(!this.results)return"No results found";var t="";return t=1===this.max_pages?"Showing "+this.results+" results":"Showing "+this.from+" to "+this.to+" of "+this.results+" results",this.results!==this.total_results&&(t+=" ("+this.total_results+" total)"),t},format:function(t,s){var r=this;if(Array.isArray(t))return t.map((function(t){return r.format(t,s)})).join(", ");if("object"===e(t)){var i=t.value||t[0]||null;return t.link&&(i='<a href="'+t.link+'" class="hover:underline">'+i+"</a>"),i}if(s instanceof Function)t=s(t);else switch(s){case"date":t=t.split("T")[0];break;case"currency":t=new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD"}).format(t)}return t},render:function(t,e){return this.format(t[e.key],e.format)},setSort:function(t){this.filters.sort_by===t?this.filters.sort_asc=!this.filters.sort_asc:(this.filters.sort_by=t,this.filters.sort_asc=!0)},setFilter:function(t){""===this.filters.filters[t]&&delete this.filters.filters[t],this.resetPage()},toggleSearch:function(){var t=this;this.show_search=!this.show_search,this.show_search?this.$nextTick((function(){t.$refs.search.focus()})):this.filters.search=""}}}document.addEventListener("alpine:init",(function(){window.Alpine.plugin(t),window.Alpine.data("alpinetable",s)}))},662:()=>{}},s={};function r(t){var i=s[t];if(void 0!==i)return i.exports;var n=s[t]={exports:{}};return e[t](n,n.exports,r),n.exports}r.m=e,t=[],r.O=(e,s,i,n)=>{if(!s){var o=1/0;for(f=0;f<t.length;f++){for(var[s,i,n]=t[f],a=!0,l=0;l<s.length;l++)(!1&n||o>=n)&&Object.keys(r.O).every((t=>r.O[t](s[l])))?s.splice(l--,1):(a=!1,n<o&&(o=n));if(a){t.splice(f--,1);var u=i();void 0!==u&&(e=u)}}return e}n=n||0;for(var f=t.length;f>0&&t[f-1][2]>n;f--)t[f]=t[f-1];t[f]=[s,i,n]},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={671:0,67:0};r.O.j=e=>0===t[e];var e=(e,s)=>{var i,n,[o,a,l]=s,u=0;if(o.some((e=>0!==t[e]))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(l)var f=l(r)}for(e&&e(s);u<o.length;u++)n=o[u],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(f)},s=self.webpackChunk=self.webpackChunk||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})(),r.O(void 0,[67],(()=>r(698)));var i=r.O(void 0,[67],(()=>r(662)));i=r.O(i)})();