(()=>{"use strict";var t,e={698:()=>{var t=function(t){let e=()=>{let e,r=localStorage;return t.interceptor(((i,s,n,a,o)=>{let l=e||`_x_${a}`,c=function(t,e){return null!==e.getItem(t)}(l,r)?function(t,e){return JSON.parse(e.getItem(t,e))}(l,r):i;return n(c),t.effect((()=>{let t=s();!function(t,e,r){r.setItem(t,JSON.stringify(e))}(l,t,r),n(t)})),c}),(t=>{t.as=r=>(e=r,t),t.using=e=>(r=e,t)}))};Object.defineProperty(t,"$persist",{get:()=>e()}),t.magic("persist",e)};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{default_filters:{page:1,per_page:"25",sort_by:null,sort_asc:null,search:"",filters:{}},filters:this.$persist({page:1,per_page:"25",sort_by:null,sort_asc:null,search:"",filters:{}}).as((t.key||"alpinetable")+"_filters"),route:t.route,rule:t.rule||null,columns:[],items:[],results:0,total_results:0,max_pages:0,from:1,to:1,loading:!1,show_search:!1,show_filters:!1,filtered:!1,cancelToken:null,haltRequests:!1,init:function(){var t=this;this.loadItems(!0),this.$watch("filters.page",(function(){return t.loadItems()})),this.$watch("filters.per_page",(function(){return t.resetPage()})),this.$watch("filters.sort_by",(function(){return t.resetPage()})),this.$watch("filters.sort_asc",(function(){return t.resetPage()})),this.$watch("filters.search",(function(){return t.resetPage()})),this.$watch("filters.filters",(function(){return t.resetPage()})),this.filters.search.length&&(this.show_search=!0)},pageUp:function(){this.filters.page=Math.min(this.max_pages,Number(this.filters.page)+1)},pageDown:function(){this.filters.page=Math.max(1,Number(this.filters.page)-1)},resetPage:function(){1===this.filters.page?this.loadItems():this.filters.page=1},resetFilters:function(){var t=this;this.haltRequests=!0,this.filters=JSON.parse(JSON.stringify(this.default_filters)),this.filtered=!1,this.$nextTick((function(){t.haltRequests=!1,t.loadItems()}))},getColumns:function(){var t=this;window.axios.post(this.route,{get:"columns"}).then((function(e){t.columns=e.data,t.loadItems()})).catch((function(t){})).finally((function(){}))},loadItems:function(t){var e=this;if(this.haltRequests)return!1;JSON.stringify(this.filters)!==JSON.stringify(this.default_filters)&&(this.filtered=!0),this.loading=!0;var r={alpine:this.filters,rule:this.rule};t&&(r.get="columns"),null!==this.cancelToken&&this.cancelToken.cancel("Operation canceled due to new request."),this.cancelToken=window.axios.CancelToken.source(),window.axios.post(this.route,r,{cancelToken:this.cancelToken.token}).then((function(t){t.data.columns&&(e.columns=t.data.columns),e.results=t.data.count,e.total_results=t.data.total_count,e.from=(e.filters.page-1)*e.filters.per_page+1,e.to=Math.min(e.results,e.filters.page*e.filters.per_page),e.max_pages=Math.ceil(e.results/e.filters.per_page),e.items=t.data.items,e.$nextTick(e.replaceIcons),void 0!==window.feather&&e.$nextTick(window.feather.replace)})).catch((function(t){})).finally((function(){e.loading=!1}))},pageString:function(){if(null===this.items)return"";if(!this.results)return"No results found";var t="";return t=1===this.max_pages?"Showing "+this.results+" results":"Showing "+this.from+" to "+this.to+" of "+this.results+" results",this.results!==this.total_results&&(t+=" ("+this.total_results+" total)"),t},format:function(t,r){var i=this;if("actions"===r)return this.render_actions(t);if(null===t)return"";if(Array.isArray(t))return t.map((function(t){return i.format(t,r)})).join("");if("object"===e(t)){var s=t.value||t[0]||null;if(t.link){var n="";void 0!==t.target&&(n=' target="'+t.target+'"'),s='<a href="'+t.link+'" '+n+' class="hover:underline">'+s+"</a>"}return s}if(r instanceof Function)t=r(t);else switch(r){case"date":t=t.split("T")[0];break;case"currency":t=new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD"}).format(t)}return t},render_actions:function(t){var e=[];return t.actions.forEach((function(t){e.push('<a href="'+t.link+'" title="'+t.title+'" '+(t.attributes||"")+">"+(void 0!==t.feather?'<i data-feather="'+t.feather+'"></i>':"")+(void 0!==t.icon?'<i data-icon="'+t.icon+'"></i>':"")+"</a>")})),e.join(" ")},render:function(t,e){return this.format(t[e.key],e.format)},replaceIcons:function(){document.querySelectorAll("i[data-icon]").forEach((function(t){var e=t.getAttribute("data-icon");e.includes("/")||(e="outline/"+e),null!==window.localStorage.getItem("icon-"+e)?t.innerHTML=window.localStorage.getItem("icon-"+e):axios.get("/vendor/alpine-tables/icons/"+e+".svg").then((function(r){window.localStorage.setItem("icon-"+e,r.data),t.innerHTML=r.data}))}))},setSort:function(t){this.filters.sort_by===t?this.filters.sort_asc=!this.filters.sort_asc:(this.filters.sort_by=t,this.filters.sort_asc=!0)},setFilter:function(t){""===this.filters.filters[t]&&delete this.filters.filters[t],this.resetPage()},toggleSearch:function(){var t=this;this.show_search=!this.show_search,this.show_search?this.$nextTick((function(){t.$refs.search.focus()})):this.filters.search=""}}}document.addEventListener("alpine:init",(function(){window.Alpine.plugin(t),window.Alpine.data("alpinetable",r)}))},662:()=>{}},r={};function i(t){var s=r[t];if(void 0!==s)return s.exports;var n=r[t]={exports:{}};return e[t](n,n.exports,i),n.exports}i.m=e,t=[],i.O=(e,r,s,n)=>{if(!r){var a=1/0;for(u=0;u<t.length;u++){for(var[r,s,n]=t[u],o=!0,l=0;l<r.length;l++)(!1&n||a>=n)&&Object.keys(i.O).every((t=>i.O[t](r[l])))?r.splice(l--,1):(o=!1,n<a&&(a=n));if(o){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[r,s,n]},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={671:0,67:0};i.O.j=e=>0===t[e];var e=(e,r)=>{var s,n,[a,o,l]=r,c=0;if(a.some((e=>0!==t[e]))){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);if(l)var u=l(i)}for(e&&e(r);c<a.length;c++)n=a[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(u)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),i.O(void 0,[67],(()=>i(698)));var s=i.O(void 0,[67],(()=>i(662)));s=i.O(s)})();